<!DOCTYPE html>
<html>

<head>
    <title>IMAGES</title>
</head>

<body>
    <canvas id="myCanvas" width="500" height="500" style="border:solid 2px black">
        Your browser does not support HTML5 Canvas.
    </canvas>

    <script>
        const canvas = document.querySelector('#myCanvas');
        const ctx = canvas.getContext("2d");

        const W = canvas.width; const H = canvas.height;

        //create a generic JavaScript image object
        let img = new Image();
        //define the source (local image file)
        img.src = 'images/ESMAD_rave_1819.jpg';

        let x,y;
        //wait for the image load event
        img.onload = function () {
            x = W / 2 - img.width / 2;
            y = H / 2 - img.height / 2;
            //draw the full image
            ctx.drawImage(img, x, y);
        };

        canvas.addEventListener('mousemove', (e) => {
            let mouseX = e.offsetX;
            let mouseY = e.offsetY;

            let pixel = ctx.getImageData(mouseX, mouseY, 1, 1).data;

            ctx.fillStyle = `rgba(${pixel[0]}, ${pixel[1]}, ${pixel[2]}, ${pixel[3]})`;
            ctx.fillRect(0,0,W,H);

            ctx.drawImage(img, x, y);
        });

    </script>
</body>

</html>